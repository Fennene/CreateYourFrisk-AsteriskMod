<!DOCTYPE html>
<!--
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>*CYF Documentation - The StateEditor Object</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/themesidebar.css" rel="stylesheet">
    <link href="../css/shThemeRDark.css" rel="stylesheet">
</head>
<body>
<img src="../img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <div class="col-md-2">
        <!--navigation-->
        <nav class="nav-sidebar">
            <ul class="nav tabs">
                <li class="li-header">Basics</li>
                    <li><a href="../documentation.html">Welcome</a></li>
                    <li class="asternew"><a href="../pages/howtoread.html">How to read this documentation</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="../pages/controls.html">Controls</a></li>
                    <li><a href="../pages/basic.html">Basic setup</a></li>
                    <li><a href="../pages/unity.html"><span class="CYF"></span> Unity Setup (Optional)</a></li>
                    <li class="asternew"><a href="../pages/variables.html">Special Variables</a></li>
                    <li><a href="../pages/terms.html">Terminology</a></li>
                <li class="li-header">API</li>
                    <li><a href="../pages/api-text.html">Text commands</a></li>
                    <li class="asternew"><a href="../pages/api-events.html">Game events</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent">Functions &amp; Objects:</li>
                        <li class="li-indent asternew"><a href="../pages/api-functions-main.html">Misc. Functions</a></li>
                        <li class="li-indent asternew"><a href="../pages/api-functions-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-script.html">The Script Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-audio.html">The Audio Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-newaudio.html"><span class="CYF"></span> The NewAudio Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-input.html">The Input Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-time.html">The Time Object</a></li>
                        <li class="li-indent"><a href="../pages/cyf-inventory.html"><span class="CYF"></span> The Inventory Object</a></li>
                        <li class="li-indent asternew"><a href="../pages/api-functions-misc.html"><span class="CYF"></span>The Misc Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-discord.html"><span class="CYF"></span> The Discord Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-waves.html">The Arena Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="asternew"><a href="../pages/api-projectile.html">Projectile management</a></li>
                    <li><a href="../pages/cyf-ppcollision.html"><span class="CYF"></span> The Pixel-Perfect Collision System</a></li>
                    <li class="asternew"><a href="../pages/api-animation.html">Sprites &amp; Animation</a></li>
                    <li class="asternew"><a href="../pages/cyf-text.html"><span class="CYF"></span> The Text Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header"><span class="Asterisk"></span> AsteriskMod</li>
                    <li><a href="basis.html">About</a></li>
                    <li class="asternew"><a href="setup.html">Additional Setup</a></li>
                    <li class="asternew"><a href="misc.html">Misc.Changes</a></li>
                    <li><a href="update-guide.html">Update Migration Guide</a></li>
                    <li class="asternew"><a href="api-statictext.html">The StaticText Object</a></li>
                    <li>Functions &amp; Objects:</li>
                    <li class="li-indent asternew"><a href="api-engine.html">The Engine Object</a></li>
                    <li class="li-indent asternew"><a href="api-playerutil.html">The PlayerUtil Object</a></li>
                    <li class="li-indent asternew"><a href="api-buttonutil.html">The ButtonUtil Object</a></li>
                    <li class="li-indent asternew"><a href="api-arenautil.html">The ArenaUtil Object</a></li>
                    <li>CustomState:</li>
                    <li class="li-indent"><a href="customstate-basis.html">Basis</a></li>
                    <li class="li-indent"><a href="customstate-variable.html">Available Var/Fun/Obj</a></li>
                    <li class="li-indent asternew"><a href="customstate-event.html">Available Events</a></li>
                    <li class="li-indent asternew active" style="margin-left:5px;">&gt; The StateEditor Object &lt;</li>
                    <li><span class="asternew"></span>Japanese Localization<br>[日本語対応]:</li>
                    <li class="li-indent"><a href="jp-basis.html">Basis [基本]</a></li>
                    <li class="li-indent"><a href="jp-lang.html">The .lang File &amp; The Lang Object<br>[.langファイル &amp; Langオブジェクト]</a></li>
                    <hr style="margin-top:10px;margin-bottom:10px;">
                <li class="li-header"></span><span class="CYF"></span> Shaders</li>
                    <li><a href="../pages/shaders.html">Introduction</a></li>
                    <li><a href="../pages/shaders-object.html">The Shader Object</a></li>
                    <li><a href="../pages/shaders-coding.html">Coding a Shader</a></li>
                    <hr style="margin-top:10px;margin-bottom:10px;">
                <li class="li-header"><span class="CYF"></span> Overworld</li>
                    <li><a href="../pages/overworld.html">Basics</a></li>
                    <li><a href="../pages/overworld-howto-map.html">How to create a map</a></li>
                    <li><a href="../pages/overworld-howto-event.html">How to create an event</a></li>
                    <li><a href="../pages/overworld-howto-animevent.html">How to animate an event</a></li>
                    <li><a href="../pages/overworld-howto-shop.html">How to create a shop</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent"><span class="CYF"></span> Overworld Objects:</li>
                        <li class="li-indent"><a href="../pages/overworld-object-general.html">The General Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-event.html">The Event Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-screen.html">The Screen Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-inventory.html">The Inventory Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-map.html">The Map Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header">Resources</li>
                    <li><a href="../media/dialogoptions.png">Dialog bubble names</a></li>
                    <li><a href="../pages/api-keys.html"><span class="CYF"></span> Key List</a></li>
            </ul>
        </nav>
    </div>
    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
        <div class="tab-pane active text-style" id="asterisk-customstate-stateeditor">
            <h2><span class="Asterisk"></span> The StateEditor object [S]</h2><br>
            <p>
                <font color="#DDD">namespace:</font> AsteriskMod<br>
                <font color="#DDD">code:</font> AsteriskMod/CustomState/StateEditor.cs
            </p><br>

            <p>
                You can control configured UIs by CYF like text of dialog box.<br>
                It works in only State Scripts.
            </p><br>

            <p>
                &lt; Technical info &gt;<br>
                <span class="asternew"></span> namespace is changed <span class="term">AsteriskMod.Lua</span> to <span class="term">AsteriskMod</span>.<br>
                (However, namespace will be not changed for compatibility if the Mod will be launched as before v0.5.3.)<br>
            </p><br>

            <p>
                <br><span class="function">StateEditor.SetDialogText(<span class="string"></span> text)</span>
                Sets text in dialog box.<br>
                This is like setting <span class="term">encountertext</span>.
            </p>
            <p>
                <br><span class="function">StateEditor.SetChoicesDialogText(<span class="luatable"><span class="string"></span></span> texts ,<span class="boolean"></span> singleList = true)</span>
                Sets choices in dialog box, as table of string.<br>
                <ul>
                    <li>
                        <span class="term">singleList</span>: If true(default), choices will be lined up like 
                        <span class="term">ENEMYSELECT</span> or <span class="term">MERCYMENY</span>.<br>
                        If false, choices will be line up like <span class="term">ACTMENU</span>.
                    </li>
                </ul>
            </p>
            <p>
                <br><span class="function">StateEditor.SetDialogTextPuase(<span class="boolean"></span> pause)</span>
                Pauses the text of dialog box object's typing, in the same way as <span class="term">text.SetPause()</span>.
            </p>
            <p>
                <br><span class="function">StateEditor.SetDialogFont(<span class="string"></span> fontName)</span>
                Sets the font of text in dialog box object, in the same way as <span class="term">text.SetFont()</span>.
            </p>
            <p>
                <br><span class="function">StateEditor.SetDialogTextEffect(<span class="string"></span> effect ,<span class="number"></span> intensity = -1)</span>
                Sets the effect of text in dialog box object, in the same way as <span class="term">text.SetEffect()</span>.
            </p>
            <p>
                <br><span class="function">StateEditor.SkipDialogText()</span>
                Skip the text in dialog box like the player press X key and skip text.
            </p>
            <p>
                <br><span class="function"><span class="boolean"></span> StateEditor.GetLineCompleteDialogText()</span>
                Returns true if the current line (page) of the text in dialog box is fully displayed, false otherwise.
                That is similar to <span class="term">text.lineComplete</span>.
            </p>
            <p>
                <br><span class="function">StateEditor.HideDialogText()</span>
                Hide the text in dialog box.
            </p>

            <p>
                <br><span class="function">StateEditor.SetPlayerVisible(<span class="boolean"></span> visible)</span>
                Changes the visible of the player's soul, 
                but different way of <span class="term">Player.soul.alpha</span>.<br>
                If you use this to invisible the soul, 
                you should set to visible it in <span class="term">StateEnding()</span>.
                <br><br>
                Technical Note: <span class="term">Player.soul.alpha</span> is changed the transparency of the soul, but 
                this function is changed the enable of the soul's Image Component. That sounds NOT good, however it is 
                used to change the visible of the soul in CYF engine.
            </p>
            <p>
                <br><span class="function">StateEditor.SetPlayerOnSelection(<span class="number"></span> selection ,<span class="boolean"></span> singleList = true)</span>
                Sets the position of the player's soul, as a integer number.<br>
                This is useful for moving the soul to correct position after using <span class="term">StateEditor.SetChoicesDialogText()</span>.
                <ul>
                    <li>
                        <span class="term">singleList</span>: If true(default), the soul will be moved to like 
                        <span class="term">ENEMYSELECT</span> or <span class="term">MERCYMENY</span>.<br>
                        If false, the soul will moved like <span class="term">ACTMENU</span>.
                    </li>
                </ul>
            </p>

            <p>
                <br><span class="function">StateEditor.SetButtonActive(<span class="boolean"></span> fight = false, <span class="boolean"></span> act = false, <span class="boolean"></span> item = false, <span class="boolean"></span> mercy = false)</span>
                Changes each button's displaying.<br>
                If true, the button is changed like the player selects. (changes to yellow(normal))<br>
                If false, the button is changed to orange (normal).
            </p>
            <p>
                <br><span class="function">StateEditor.SetCurrentAction(<span class="string"></span> action, <span class="boolean"></span> playerMoveAndUpdateButton = false)</span>
                Sets current player's action forced.<br>
                If you change action with it, the player will select action you change in ACTIONSELECT automatically.
                <ul>
                    <li>
                        <span class="term">action</span>: "FIGHT", "ACT", "ITEM" or "MERCY".
                    </li>
                    <li>
                        <span class="term">playerMoveAndUpdateButton</span>: If true, changes button looks and moves the player's soul to selected button.<br>
                        If no value is specified, <span class="term">false</span> will be assigned.
                    </li>
                </ul>
            </p>

            <p>
                <br><span class="function"><span class="asternew"></span> <span class="AsteriskExperiment"></span> StateEditor.CreateLifeBar(<span class="number"></span> enemyIndex, <span class="number"></span> line)</span>
                Creates a bar of enemy's HP from enemy's index. 
                <span class="term">enemyIndex</span> should be between <span class="term">1</span> and the number of enemy in the encounter.<br>
                You can create life bar even if the enemy is inactive.
            </p>
            <p>
                <br><span class="function"><span class="asternew"></span> <span class="AsteriskExperiment"></span> StateEditor.RemoveLifeBar()</span>
                Removes all bars created by <span class="term">StateEditor.CreateLifeBar()</span>.<br>
                <font color="#FFF">You should call this function in <span class="term">StateEnding()</span> if you created bars.</font>
            </p>

            <p>
                <br><span class="function">StateEditor.ResetArena()</span>
                Reset arena.<br>
                <font color="#FFF">You should call this function in <span class="term">StateEnding()</span> if you change arena with <span class="term">the arena object</span>.</font>
            </p>
        </div>

        <div class="tab-pane text-style" id="mercy">
            <h2 style="text-decoration: none; line-height:50px;">
                * YOU WON!<br>
                * You earned 0 EXP and 0 gold.<br>
                * also the nav menu is broken now
            </h2><br>
        </div>
    </div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="../img/mercybt_0.png" height="42"></a>
    </div>
</div>
<br>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/show_hide_comments.js"></script>

<script type="text/javascript" src="../js/FontToggleButton.js"></script>
</body>
</html>