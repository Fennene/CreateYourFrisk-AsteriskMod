<!DOCTYPE html>
<!--
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>*CYF ドキュメント - 日本語化 基本</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/themesidebar.css" rel="stylesheet">
    <link href="../css/shThemeRDark.css" rel="stylesheet">

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="../js/shCore.js"></script>
    <script type="text/javascript" src="../js/shBrushLua.js"></script>
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<img src="../img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <div class="col-md-2">
        <!--navigation-->
        <nav class="nav-sidebar">
            <ul class="nav tabs">
                <li class="li-header">Basics</li>
                    <li><a href="../documentation.html">Welcome</a></li>
                    <li class="asternew"><a href="../pages/howtoread.html">How to read this documentation</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="../pages/controls.html">Controls</a></li>
                    <li><a href="../pages/basic.html">Basic setup</a></li>
                    <li><a href="../pages/unity.html"><span class="CYF"></span> Unity Setup (Optional)</a></li>
                    <li class="asternew"><a href="../pages/variables.html">Special Variables</a></li>
                    <li><a href="../pages/terms.html">Terminology</a></li>
                <li class="li-header">API</li>
                    <li><a href="../pages/api-text.html">Text commands</a></li>
                    <li class="asternew"><a href="../pages/api-events.html">Game events</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent">Functions &amp; Objects:</li>
                        <li class="li-indent asternew"><a href="../pages/api-functions-main.html">Misc. Functions</a></li>
                        <li class="li-indent asternew"><a href="../pages/api-functions-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-script.html">The Script Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-audio.html">The Audio Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-newaudio.html"><span class="CYF"></span> The NewAudio Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-input.html">The Input Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-time.html">The Time Object</a></li>
                        <li class="li-indent"><a href="../pages/cyf-inventory.html"><span class="CYF"></span> The Inventory Object</a></li>
                        <li class="li-indent asternew"><a href="../pages/api-functions-misc.html"><span class="CYF"></span>The Misc Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-discord.html"><span class="CYF"></span> The Discord Object</a></li>
                        <li class="li-indent"><a href="../pages/api-functions-waves.html">The Arena Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="asternew"><a href="../pages/api-projectile.html">Projectile management</a></li>
                    <li><a href="../pages/cyf-ppcollision.html"><span class="CYF"></span> The Pixel-Perfect Collision System</a></li>
                    <li class="asternew"><a href="../pages/api-animation.html">Sprites &amp; Animation</a></li>
                    <li class="asternew"><a href="../pages/cyf-text.html"><span class="CYF"></span> The Text Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header"><span class="Asterisk"></span> AsteriskMod</li>
                    <li><a href="basis.html">About</a></li>
                    <li class="asternew"><a href="setup.html">Additional Setup</a></li>
                    <li class="asternew"><a href="misc.html">Misc.Changes</a></li>
                    <li><a href="update-guide.html">Update Migration Guide</a></li>
                    <li class="asternew"><a href="api-statictext.html">The StaticText Object</a></li>
                    <li>Functions &amp; Objects:</li>
                    <li class="li-indent asternew"><a href="api-engine.html">The Engine Object</a></li>
                    <li class="li-indent asternew"><a href="api-playerutil.html">The PlayerUtil Object</a></li>
                    <li class="li-indent asternew"><a href="api-buttonutil.html">The ButtonUtil Object</a></li>
                    <li class="li-indent asternew"><a href="api-arenautil.html">The ArenaUtil Object</a></li>
                    <li>CustomState:</li>
                    <li class="li-indent"><a href="customstate-basis.html">Basis</a></li>
                    <li class="li-indent"><a href="customstate-variable.html">Available Var/Fun/Obj</a></li>
                    <li class="li-indent asternew"><a href="customstate-event.html">Available Events</a></li>
                    <li class="li-indent asternew"><a href="customstate-stateeditor.html">The StateEditor Object</a></li>
                    <li><span class="asternew"></span>Japanese Localization<br>[日本語対応]:</li>
                    <li class="li-indent active" style="margin-left:5px;">&gt; Basis [基本] &lt;</li>
                    <li class="li-indent"><a href="jp-lang.html">The .lang File &amp; The Lang Object<br>[.langファイル &amp; Langオブジェクト]</a></li>
                    <hr style="margin-top:10px;margin-bottom:10px;">
                <li class="li-header"></span><span class="CYF"></span> Shaders</li>
                    <li><a href="../pages/shaders.html">Introduction</a></li>
                    <li><a href="../pages/shaders-object.html">The Shader Object</a></li>
                    <li><a href="../pages/shaders-coding.html">Coding a Shader</a></li>
                    <hr style="margin-top:10px;margin-bottom:10px;">
                <li class="li-header"><span class="CYF"></span> Overworld</li>
                    <li><a href="../pages/overworld.html">Basics</a></li>
                    <li><a href="../pages/overworld-howto-map.html">How to create a map</a></li>
                    <li><a href="../pages/overworld-howto-event.html">How to create an event</a></li>
                    <li><a href="../pages/overworld-howto-animevent.html">How to animate an event</a></li>
                    <li><a href="../pages/overworld-howto-shop.html">How to create a shop</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent"><span class="CYF"></span> Overworld Objects:</li>
                        <li class="li-indent"><a href="../pages/overworld-object-general.html">The General Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-event.html">The Event Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-screen.html">The Screen Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-inventory.html">The Inventory Object</a></li>
                        <li class="li-indent"><a href="../pages/overworld-object-map.html">The Map Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header">Resources</li>
                    <li><a href="../media/dialogoptions.png">Dialog bubble names</a></li>
                    <li><a href="../pages/api-keys.html"><span class="CYF"></span> Key List</a></li>
            </ul>
        </nav>
    </div>
    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
        <div class="tab-pane active text-style" id="asterisk-jp-basis">
            <h2 id="JP"><span class="asternew"></span> <span class="Asterisk"></span> 日本語化 (Japanalize)</h2><br><br>
            <p>AsteriskModにはCYFエンジン及びModを、日本語化するための機能がいくつか追加されています。</p><br>

            <p>
                CYFエンジン自体の日本語化は、Mod選択画面の右上にある「Options」を選択し、(オプション選択用のウインドウ的なものが開くので) 「Asterisk Mod Option」を選択すると、言語を変える設定のボタン(「Language:English」と表示されていると思います)をクリックしてください。
            </p><br>

            <p><font color="#FFF">
                エンジンの表示言語が日本語であると、Mod内でプレイヤー名が日本語で表示され、ボタンも日本語版のボタンになります。<br>
                これは、「Asterisk Mod Option」にある
                「UIを日本語表記にするかどうか」で変えることができます。
            </font></p><br>

            <hr>

            <h3>AsteriskModに含まれている日本語翻訳用リソース</h3><br><br>

            <p>
                AsteriskModには、Defaultフォルダに、日本語のフォントが既に入っています。<br>
                使用できるフォントは以下の通りです。
                <ul>
                    <li><span class="term">jp</span> - 公式日本語版の汎用フォントです。</li>
                    <li><span class="term">jp2</span> - 戦闘中のモンスターのセリフ用のフォントです。実際の公式日本語版のフォントではないです。</li>
                    <li><span class="term">jpname</span> - 公式日本語版の戦闘時のプレイヤー名表示用フォントです。</li>
                </ul><br>
                対応している文字は、半角英数字記号と全角ひらがなと全角カタカナです。<br>
                <span class="term">jp</span>と<span class="term">jp2</span>はそれに加えて、全角英数字記号を含みます。
                <br><br>
                使用方法としては テキストコマンドの<span class="term">[font:jp]</span>や、Textオブジェクトの<span class="term">Text.SetFont("jp")</span>ですが、<br>
                後述の関数を使用して、テキストコマンドを書く手間を減らすことができます。
            </p><br><br>

            <p>
                また、AsteriskModには、Defaultフォルダに、日本語のボタンも既に入っています。<br>
                日本語版のボタンのテクスチャのファイル名は以下の通り。(拡張子はpngです。)
                <table>
                    <tr>
                        <th>各ボタン名</th>
                        <th>非アクティブ時</th>
                        <th>アクティブ時</th>
                    </tr>
                    <tr>
                        <td>たたかう</td>
                        <td>fightbt_2</td>
                        <td>fightbt_3</td>
                    </tr>
                    <tr>
                        <td>こうどう</td>
                        <td>actbt_2</td>
                        <td>actbt_3</td>
                    </tr>
                    <tr>
                        <td>アイテム</td>
                        <td>itembt_2</td>
                        <td>itembt_3</td>
                    </tr>
                    <tr>
                        <td>みのがす</td>
                        <td>mercybt_2</td>
                        <td>mercybt_3</td>
                    </tr>
                </table><br>
                <span class="term">ButtonUtil.SetSprites("UI/Buttons", "_2", "_3")</span> で一括設定できます。<br>
            </p><br><br>

            <p>
                AsteriskModでModを製作する場合は、これらのリソースを クレジット無しで使用できますが、<br>
                <font color="#FFF">
                    公式のCYFで、Modにコピーして使用する場合は、<font color="#FF0">クレジットが必須です。</font><br>
                    README や ゲーム内で にるにころ とクレジットを表示してください。
                </font>
            </p>

            <br><hr>

            <h3>Modの日本語対応</h3><br><br>

            <p>
                AsteriskModには 日本語翻訳やその他言語への翻訳を 簡単にするための関数がいくつか存在します。
            </p>

            <p>
                <br><span class="function">PlayerUtil.SetJapaneseNameActive(<span class="boolean"></span> active)</span>
                <span class="term">true</span>を代入した場合、 プレイヤー名が日本語フォントで表示されます。<br>
                デフォルト値（初期値）は エンジンの表示言語の設定に依存し、 
                ユーザーが 表示言語を日本語にしている場合、 <span class="term">true</span>です。<br>
                この関数は、
            <div class="code-container">
<pre class="brush: lua;">
-- "active"がtrueの場合
PlayerUtil.Name.SetFont("jpname")
PlayerUtil.Name.Move(0, 6) -- 位置調整
-- "active"がfalseの場合
PlayerUtil.Name.SetFont("uibattlesmall")
PlayerUtil.Name.Move(0, -6) -- 位置調整
</pre>
            </div>とほぼ同等です。
            </p>

            <p>
                <br><span class="function"><span class="string"></span> Language [E/M/W/S]</span>
                ユーザーの使用している（表示言語の設定で設定してある）言語を取得します。<br>
                この変数は次の値をとります：
                <ul>
                    <li><span class="term">English</span></li>
                    <li><span class="term">Japanese</span></li>
                </ul>
            </p>

            <p>
                <br><span class="function"><span class="char"></span> ArenaUtil.AsteriskChar [E/M/W/S]</span>
                アスタリスク（<span class="term">*</span>）の 文字を変更します。<br>
                <span class="term">＊</span>を指定して、日本語のフォントで日本語用のアスタリスクを使用できます。<br>
                全角のアスタリスク（フォントで指定してある空白の２倍の大きさの時）を指定した場合、後述の
                <span class="term">ArenaUtil.SetFullWidthAsterisk(true)</span>を呼び出してください。<br>
                <font color="#ddd">頻繁に変更することはお勧めしません。</font>
            </p>

            <p>
                <br><span class="function">ArenaUtil.SetFullWidthAsterisk(<span class="boolean"></span> active) [E/M/W/S]</span>
                <span class="term">ArenaUtil.AsteriskChar</span>にて、
                全角のアスタリスク（フォントで指定してある空白の２倍の大きさの時）を指定した場合、
                <span class="term">true</span>を指定して呼び出してください。<br>
                これは、 <span class="term">\r</span> の改行（アスタリスク無しの改行）で、
                足りない空白を補う機能を有効にします。
            </p>

            <p>
                <br><span class="function">ArenaUtil.SetAutoFontCommandActive(<span class="boolean"></span> active) [E/M/W/S]</span>
                エンジン側で自動的に、文字列（テキスト）の先頭に fontコマンド（<span class="term">[font:xxx]</span>）を追加します。<br>
                対応しているのは以下の通り：
                <ul>
                    <li>Encounterスクリプトの <span class="term">encountertext</span>変数</li>
                    <li>Monsterスクリプトの <span class="term">commands</span>変数</li>
                    <li>Monsterスクリプトの <span class="term">name</span>変数</li>
                    <li><span class="term">BattleDialog()</span>関数の引数</li>
                    <li><span class="term">StateEditor.SetDialogText()</span>関数の第一引数 と <span class="term">StateEditor.SetChoicesDialogText()</span>関数の第一引数の各要素</li>
                </ul><br>
                例は次の通り： （Monsterスクリプト）
            <div class="code-container">
<pre class="brush: lua;">
name = "グレータードッグ" -- ENEMYSELECTで日本語フォント(jp)で表示される。
commands = {"ぶんせき", "ナデナデ", "よぶ", "あそぶ", "むしする"} -- 各要素に[font:jp]と書く手間が省ける。

function HandleCustomCommand(command) -- 引数の文字列に [FONT:JP] はつかない。
    if command == "ぶんせき" then -- if command == "[FONT:JP]ぶんせき" then と書かなくて良い。
        -- ...
    elseif command == "ナデナデ" then
        -- ...
    elseif command == "よぶ" then
        -- ...
    elseif command == "あそぶ" then
        -- ...
    elseif command == "むしする" then
        -- ...
    end
end
</pre>
            </div>
            </p>
            <p>
                <br><span class="function">ArenaUtil.SetAutoFontCommandFont(<span class="string"></span> fontName) [E/M/W/S]</span>
                前述の<span class="term">ArenaUtil.SetAutoFontCommandActive()</span>にて、
                フォントを決めることができます。<br>
                デフォルトでは "<span class="term">jp</span>"。
            </p>


            <br><br>

            <p>
                以下のコードは 日本語対応の一例です。
            <div class="code-container">
<pre class="brush: lua;">
function EncounterStarting()
    -- Audio.Stop() とか

    if Language == "Japanese" then
        PlayerUtil.SetJapaneseNameActive(true) -- なぜかバグ？で括弧閉じが全角で表示される 本当は半角括弧じゃないとエラーです
        ButtonUtil.SetSprites("UI/Buttons", "_2", "_3")
        ArenaUtil.DialogTextMoveTo(0, -6) -- -5でもいいかも？
        ArenaUtil.AsteriskChar = "＊"
        ArenaUtil.SetFullWidthAsterisk(true)
        ArenaUtil.SetAutoFontCommandActive(true)
        sparetext = "[font:jp]にがす"
        fleetext = "[font:jp]にげる"
    end

    -- Player.name = "にるにころ" とか
end
</pre>
            </div>
            </p><br><br>
            <p>
                <span class="term">.langファイル</span>と<span class="term">Langオブジェクト</span>を使用すると、
                より翻訳が簡単になります。<br>
                詳しくは <span class="ref">The .lang File &amp; The Lang Object [.langファイル & Langオブジェクト]</span>を参照してください。
            </p><br>
        </div>

        <div class="tab-pane text-style" id="mercy">
            <h2 style="text-decoration: none; line-height:50px;">
                ＊ YOU WIN！<br>
                ＊ 0EXPと0ゴールドを  かくとく！<br>
                ＊ ナビメニューも  こわれた。
            </h2><br>
        </div>
    </div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="../img/mercybt_0.png" height="42"></a>
    </div>
</div>
<br>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/show_hide_comments.js"></script>

<script type="text/javascript" src="../js/FontToggleButton.js"></script>
</body>
</html>